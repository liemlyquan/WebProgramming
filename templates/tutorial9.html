<!DOCTYPE html>
{% autoescape true %}
<html>

<head>
<meta charset="utf-8">
<title>Tutorial 9</title>
<!--link-->
<link rel="stylesheet" href="/css/reset.css">
<link rel="stylesheet" type="text/css" href="/css/style8.css">
<link href='http://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Arvo:700' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Press+Start+2P' rel='stylesheet' type='text/css'>
<!--link -->

</head>

<body>

<section id="section1" data-type="background" data-speed="20">

    <img alt="#" src="/images/logo.png">
    
    <nav>
    	<div id="menu1">
        <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/html/about.html">About</a></li>
        <li><a href="javascript:animatedcollapse.toggle('menu2')">Tutorial</a></li>
        </ul> 
        </div>
          
        <div id="menu2">
        <ul>
        <li><a href="">Week 2</a></li>
        <li><a href="/html/tutorial3.html">Week 3</a></li>
        <li><a href="/html/tutorial4.html">Week 4</a></li>
        <li><a href="/html/element.html">Week 5</a></li>
        <li><a href="/tutorial6">Week 6</a></li>
        <li><a href="/tutorial7">Week 7</a></li>
        <li><a href="/tutorial8">Week 8</a></li>
       	<li><a href="/tutorial9">Week 9</a></li>
       	<li><a href="/tutorial10">Week 10</a></li>
        </ul>
        </div>     
    </nav>
    
    <article>
    <p id="title">Tutorial 9</p>
    <p id="subTitle">The goal of this tutorial is to learn how to use blob to upload and store images</p>
    </article>
    

</section>

<section id="section2" data-type="background" data-speed="20">

	<p id="Title2"> Big lists of cats</p>
    
		{% for cat in cats %}
		<div class="cat" id="{{ cat.name }}">
			<img src="/tutorial9/img?img_id={{ cat.key.id() }}">
			<a href="/tutorial8/cat/{{ cat.name }}">{{ cat.name }}</a>&nbsp;{{ cat.description }}&nbsp;
				<img class="delete" src="//gcdn.org/glyphicons/bin.png">
		</div>
		{% endfor %}

	<section id="form">

	<form action="/tutorial9" method="post" enctype="multipart/form-data">
    
    <p class="subTitle">General info</p>
    
    <div class="info">
	<div>
		<label for="name">Cat name:</label>
		<input type="text" name="name" size="30">
	</div>
	<div>
		<label for="description">Description:</label>
		<textarea name="description" row="7" cols="32"></textarea>
	</div>
	<div>
		<label for="owner">Owner:</label>
		<input type="text" name="owner" size="30">
	</div>
    </div>
    
    <p class="subTitle">Cat's Birthday</p>
	<div class="info">
		<div>
			<label for="day">Day:</label>
			<input type="text" name="day" size="30">
		</div>
		<div>
			<label for="month">Month:</label>
			<input type="text" name="month" size="30">
		</div>
		<div>
			<label for="year">Year:</label>
			<input type="text" name="year" size="30">
		</div>
		 <div>
    	<label>Picture</label>
    	<input type="file" name="img" size="30">
    	</div>
    </div>

	<div><input type="submit" value="Add Cat"></div>
    
	</form>
	</div>
    
</section>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript">
		$(document).ready(function(){
			$(".delete").click(function(event){
				var name = $(this).parent().attr("id");
				$.ajax({
					url: "/tutorial8/cat/"+name,
					type: 'DELETE',
					dataType: 'text',
					success: function(){
						$('#'+name).remove();
					}
				});
			});
		});
</script>


<script type="text/javascript" src="/script/script.js"></script>
<script type="text/javascript" src="/script/animatedcollapse.js"></script>
<script type="text/javascript">
animatedcollapse.addDiv('menu2', 'fade=1,height=80px')
animatedcollapse.ontoggle=function($, divobj, state){ //fires each time a DIV is expanded/contracted
	//$: Access to jQuery
	//divobj: DOM reference to DIV being expanded/ collapsed. Use "divobj.id" to get its ID
	//state: "block" or "none", depending on state
}
animatedcollapse.init()
</script>
</body>
</html>
{% endautoescape %}	